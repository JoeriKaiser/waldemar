---
import BaseLayout from "../layouts/BaseLayout.astro";
import CategorizedSkills from "../components/About/CategorizedSkills.astro";

const pageTitle = "About";
---

<BaseLayout title={pageTitle}>
  <main>
    <article class="about-page container-center" itemscope itemtype="https://schema.org/WebPage">
      <section class="hero-section" transition:name="hero-section">
        <div class="intro-card">
          <div class="intro-stamps">
            <span class="stamp">Dev since 2022</span>
            <span class="stamp stamp-olive">{`NL -> FR`}</span>
          </div>

          <div class="intro-content">
            <h1 class="intro-title">Hi, I'm Joeri</h1>
            <p class="intro-tagline">Web Developer | Former Bartender | Always Learning</p>
          </div>
        </div>

        <CategorizedSkills />

        <div class="content-card">
          <h2 class="section-title">Quick Facts</h2>
          <ul class="facts-list">
            <li class="fact-item">
              <span class="fact-icon">üåç</span>
              <span>Born in the Netherlands, raised in France</span>
            </li>
            <li class="fact-item">
              <span class="fact-icon">üíª</span>
              <span>27-year-old web developer</span>
            </li>
            <li class="fact-item">
              <span class="fact-icon">üç∏</span>
              <span>Former bartender turned coder</span>
            </li>
            <li class="fact-item">
              <span class="fact-icon">üöÄ</span>
              <span>Passionate about making the web more alive</span>
            </li>
          </ul>
        </div>

        <div class="content-card">
          <p class="lead-text">
            My journey into tech might not be the most conventional, but it's been a path of growth,
            curiosity, and persistence.
          </p>

          <details class="journey-details">
            <summary class="journey-summary">
              <span>More About My Journey</span>
              <svg
                class="chevron"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M6 9l6 6 6-6"></path>
              </svg>
            </summary>
            <div class="journey-content">
              <p>
                Born in the Netherlands, I moved to France at a young age with my family. Growing
                up, I gladly followed the family tradition and enrolled in catering school. My early
                career began in hospitality, first working as a waiter, and eventually becoming a
                passionate bartender and even trying some mixology. It taught me a lot about
                adaptability and working under pressure ‚Äì skills I still use today.
              </p>
              <p>
                But even while I was pouring drinks and serving tables, my true passion was
                elsewhere: coding. I spent my spare time tinkering with WordPress sites for
                acquaintances and exploring Minecraft plugins, booting up the PC whenever I could.
                When the pandemic hit, it felt like the right time for a change (I wasn't the only
                one!). That's when I decided to fully pursue what I had been doing on the side for
                years.
              </p>
              <p>
                I enrolled in several courses on Udemy and later joined a coding bootcamp in my
                local city, sharpening my skills in HTML, CSS, JavaScript and discovering new things
                I didn't even know existed. I felt overwhelmed but still curious at the challenge.
                By 2022, I had landed my first internship as a web developer. A year later, I was
                thrilled to be hired full-time by the same company.
              </p>
              <p>
                Now, I'm continuing to grow my skills, staying curious, and pushing the boundaries
                of what I can do as a developer. Whether it's building interfaces or back-end
                solutions, I'm excited making the web more alive.
              </p>
            </div>
          </details>
        </div>
      </section>
    </article>
  </main>
</BaseLayout>

<style>
  .about-page {
    padding: var(--space-xl) 0 var(--space-3xl);
  }

  .hero-section {
    display: flex;
    flex-direction: column;
    gap: var(--space-l);
  }

  /* Intro card */
  .intro-card {
    background: linear-gradient(175deg, var(--wc-cream) 0%, var(--wc-parchment) 100%);
    border: 1px solid var(--wc-sand);
    border-radius: var(--radius-lg);
    padding: var(--space-l);
    box-shadow: var(--shadow-md);
    transform: rotate(-0.5deg);
    transition: transform var(--duration-normal) var(--ease-bounce);
  }

  .intro-card:hover {
    transform: rotate(0deg);
  }

  .intro-stamps {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-bottom: var(--space-m);
  }

  .intro-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .intro-title {
    font-family: var(--font-display);
    font-size: var(--text-h1);
    font-weight: 600;
    color: var(--wc-ink);
    margin: 0;
    line-height: var(--leading-heading);
  }

  .intro-tagline {
    font-family: var(--font-body);
    font-size: var(--text-body);
    color: var(--wc-bark);
    margin: 0;
  }

  /* Content cards */
  .content-card {
    background: var(--wc-cream);
    border: 1px solid var(--wc-sand);
    border-radius: var(--radius-lg);
    padding: var(--space-l);
  }

  .section-title {
    font-family: var(--font-display);
    font-size: var(--text-h2);
    font-weight: 600;
    color: var(--wc-ink);
    margin: 0 0 var(--space-m) 0;
    position: relative;
    display: inline-block;
  }

  .section-title::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -4px;
    width: 40px;
    height: 3px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cpath d='M0 2 Q5 0 10 2 T20 2' stroke='%23c4704b' stroke-width='2' fill='none'/%3E%3C/svg%3E")
      repeat-x;
    background-size: 20px 4px;
  }

  /* Facts list */
  .facts-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-s);
  }

  .fact-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-s);
    font-size: var(--text-body);
    color: var(--wc-espresso);
    line-height: var(--leading-body);
  }

  .fact-icon {
    font-size: 1.25rem;
    line-height: 1.5;
    flex-shrink: 0;
  }

  /* Lead text */
  .lead-text {
    font-family: var(--font-display);
    font-size: var(--text-h3);
    font-weight: 400;
    color: var(--wc-espresso);
    line-height: var(--leading-heading);
    margin: 0 0 var(--space-m) 0;
  }

  /* Journey details */
  .journey-details {
    border: 1px dashed var(--wc-sand);
    border-radius: var(--radius-md);
    overflow: hidden;
  }

  .journey-summary {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-m);
    font-family: var(--font-display);
    font-weight: 500;
    color: var(--wc-accent);
    cursor: pointer;
    background: var(--wc-parchment);
    transition: background var(--duration-fast) var(--ease-smooth);
  }

  .journey-summary:hover {
    background: var(--wc-sand);
  }

  .journey-summary::-webkit-details-marker {
    display: none;
  }

  .chevron {
    transition: transform var(--duration-normal) var(--ease-smooth);
  }

  .journey-details[open] .chevron {
    transform: rotate(180deg);
  }

  .journey-content {
    padding: var(--space-m);
    background: var(--wc-parchment);
    border-top: 1px dashed var(--wc-sand);
  }

  .journey-content p {
    font-size: var(--text-body);
    color: var(--wc-espresso);
    line-height: var(--leading-body);
    margin: 0 0 var(--space-m) 0;
  }

  .journey-content p:last-child {
    margin-bottom: 0;
  }

  /* Stamps */
  .stamp {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem 0.65rem;
    font-family: var(--font-display);
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    color: var(--wc-accent-deep);
    border: 2px solid var(--wc-accent);
    border-radius: var(--radius-sm);
    transform: rotate(-2deg);
    opacity: 0.9;
  }

  .stamp-olive {
    color: var(--wc-olive-deep);
    border-color: var(--wc-olive);
  }

  /* Focus styles */
  .journey-summary:focus-visible {
    outline: 2px solid var(--wc-accent);
    outline-offset: 2px;
  }
</style>

<script>
  document.addEventListener("astro:page-load", () => {
    const details = document.querySelector(".journey-details") as HTMLDetailsElement | null;
    const content = document.querySelector(".journey-content");

    if (!details || !content) return;

    const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    if (!prefersReduced) {
      details.addEventListener("toggle", () => {
        if (details.open) {
          content.animate(
            [
              { opacity: 0, transform: "translateY(-10px)" },
              { opacity: 1, transform: "translateY(0)" },
            ],
            {
              duration: 300,
              easing: "cubic-bezier(0.34, 1.56, 0.64, 1)",
            }
          );
        }
      });
    }
  });
</script>
